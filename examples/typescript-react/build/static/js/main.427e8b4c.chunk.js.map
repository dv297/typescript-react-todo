{"version":3,"sources":["components/TodoItem.tsx","components/TodoFooter.tsx","utils/isDefined.ts","App.tsx","index.tsx"],"names":["TodoItem","props","todo","isEditing","onEdit","onEditSubmission","onEditCancel","useState","title","editingStateText","setEditingStateText","className","classNames","completed","editing","type","checked","onChange","onToggle","onDoubleClick","onSubmit","event","preventDefault","value","updatedValue","target","onBlur","onKeyUp","key","autoFocus","TodoFooter","remainingTodosCount","completedCount","onClearCompleted","itemCountLabel","exact","to","activeClassName","onClick","isDefined","arg","withRouter","inputFieldText","setInputFieldText","initialTodos","todos","setTodos","undefined","idOfTodoToEdit","setIdOfTodoToEdit","visibleTodos","filter","matchPath","location","pathname","path","getCountOfActiveTodos","length","onTodoEdit","id","onTodoEditSubmission","todoToUpdate","updatedTitle","updatedTodos","map","handleSavingTodos","onTodoEditCancel","newTodo","uuid","newValue","placeholder","htmlFor","toggleSingleTodo","todosJSON","localStorage","getItem","JSON","parse","retrieveSavedTodos","console","log","ReactDOM","render","setItem","stringify","document","getElementById"],"mappings":"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","file":"static/js/main.427e8b4c.chunk.js","sourcesContent":["import React, { useState, ChangeEvent, FormEvent, KeyboardEvent } from 'react';\nimport classNames from 'classnames';\n\ninterface ITodoItemProps {\n  todo: ITodo;\n\n  isEditing: boolean;\n\n  onToggle: (event: ChangeEvent<HTMLInputElement>) => void;\n  onEdit: (todo: ITodo) => void;\n  onEditSubmission: (todo: ITodo, updatedTitle: string) => void;\n  onEditCancel: (todo: ITodo) => void;\n}\n\nconst TodoItem: React.FC<ITodoItemProps> = (props: ITodoItemProps) => {\n  const { todo, isEditing, onEdit, onEditSubmission, onEditCancel } = props;\n  const [editingStateText, setEditingStateText] = useState(todo.title);\n\n  const handleLabelDoubleClick = () => {\n    onEdit(todo);\n    setEditingStateText(todo.title);\n  };\n\n  const handleEditInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const updatedValue = event.target.value;\n    setEditingStateText(updatedValue);\n  };\n\n  const handleEditInputBlur = () => {\n    onEditSubmission(todo, editingStateText);\n  };\n\n  const handleEditFormSubmission = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    onEditSubmission(todo, editingStateText);\n  };\n\n  const handleEditInputKeyUp = (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Escape') {\n      onEditCancel(todo);\n    }\n  };\n\n  return (\n    <li\n      className={classNames({\n        completed: todo.completed,\n        editing: isEditing,\n      })}\n    >\n      <div className=\"view\">\n        <input className=\"toggle\" type=\"checkbox\" checked={todo.completed} onChange={props.onToggle} />\n        <label onDoubleClick={handleLabelDoubleClick}>{todo.title}</label>\n      </div>\n      {isEditing && (\n        <form onSubmit={handleEditFormSubmission}>\n          <input\n            className=\"edit\"\n            value={editingStateText}\n            onChange={handleEditInputChange}\n            onBlur={handleEditInputBlur}\n            onKeyUp={handleEditInputKeyUp}\n            autoFocus\n          />\n        </form>\n      )}\n    </li>\n  );\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\ninterface ITodoFooterProps {\n  remainingTodosCount: number;\n  completedCount: number;\n  onClearCompleted: () => void;\n}\n\nconst TodoFooter: React.FC<ITodoFooterProps> = (props) => {\n  const { remainingTodosCount, completedCount, onClearCompleted } = props;\n\n  const itemCountLabel = remainingTodosCount > 1 ? 'items' : 'item';\n\n  return (\n    <footer className=\"footer\">\n      <span className=\"todo-count\">\n        <strong>{remainingTodosCount}</strong> {itemCountLabel} left\n      </span>\n      <ul className=\"filters\">\n        <li>\n          <NavLink exact to=\"/\" activeClassName=\"selected\">\n            All\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/active\" activeClassName=\"selected\">\n            Active\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/completed\" activeClassName=\"selected\">\n            Completed\n          </NavLink>\n        </li>\n      </ul>\n      {completedCount > 0 && (\n        <button className=\"clear-completed\" onClick={onClearCompleted}>\n          Clear completed\n        </button>\n      )}\n    </footer>\n  );\n};\n\nexport default TodoFooter;\n","function isDefined<T>(arg: T | undefined): arg is T {\n  return typeof arg !== 'undefined';\n}\n\nexport default isDefined;\n","import React, { useState, ChangeEvent, FormEvent } from 'react';\nimport uuid from 'uuid/v4';\nimport { withRouter, RouteComponentProps, matchPath } from 'react-router-dom';\n\nimport TodoItem from './components/TodoItem';\nimport TodoFooter from './components/TodoFooter';\nimport isDefined from './utils/isDefined';\n\ninterface IAppProps {\n  initialTodos: Array<ITodo> | [];\n  handleSavingTodos: (todos: Array<ITodo>) => void;\n}\n\nconst App: React.FC<IAppProps & RouteComponentProps> = (props) => {\n  const [inputFieldText, setInputFieldText] = useState('');\n  const [todos, setTodos] = useState<Array<ITodo>>(props.initialTodos);\n  const [idOfTodoToEdit, setIdOfTodoToEdit] = useState<String | undefined>(undefined);\n\n  const visibleTodos = todos.filter((todo) => {\n    if (matchPath(props.location.pathname, { path: '/active' })) {\n      return !todo.completed;\n    }\n    if (matchPath(props.location.pathname, { path: '/completed' })) {\n      return todo.completed;\n    }\n\n    return true;\n  });\n\n  const onInputFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const newValue = event.target.value;\n    setInputFieldText(newValue);\n  };\n\n  const toggleSingleTodo = (todoToUpdate: ITodo) => {\n    const updatedTodos = todos.map((todo) => {\n      if (todo.id !== todoToUpdate.id) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        completed: !todo.completed,\n      };\n    });\n\n    setTodos(updatedTodos);\n    props.handleSavingTodos(updatedTodos);\n  };\n\n  const toggleAllTodos = (event: ChangeEvent<HTMLInputElement>) => {\n    const checked = event.target.checked;\n    const updatedTodos = todos.map((todo) => ({ ...todo, completed: checked }));\n    setTodos(updatedTodos);\n    props.handleSavingTodos(updatedTodos);\n  };\n\n  const onFormSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const newTodo = {\n      id: uuid(),\n      title: inputFieldText,\n      completed: false,\n    };\n    const updatedTodos = [...todos, newTodo];\n    setTodos(updatedTodos);\n    props.handleSavingTodos(updatedTodos);\n    setInputFieldText('');\n  };\n\n  const getCountOfActiveTodos = () => {\n    const activeTodos = todos.filter((todo) => !todo.completed);\n    return activeTodos.length;\n  };\n\n  const getCountOfCompletedTodos = () => {\n    const activeTodos = todos.filter((todo) => todo.completed);\n    return activeTodos.length;\n  };\n\n  const onTodoEdit = (todo: ITodo) => {\n    setIdOfTodoToEdit(todo.id);\n  };\n\n  const onTodoEditSubmission = (todoToUpdate: ITodo, updatedTitle: string) => {\n    const updatedTodos = todos\n      .map((todo) => {\n        if (todo.id !== todoToUpdate.id) {\n          return todo;\n        }\n\n        if (updatedTitle === '') {\n          return undefined;\n        }\n\n        return {\n          ...todo,\n          title: updatedTitle,\n        };\n      })\n      .filter(isDefined);\n\n    setTodos(updatedTodos);\n    props.handleSavingTodos(updatedTodos);\n    setIdOfTodoToEdit(undefined);\n  };\n\n  const onTodoEditCancel = () => {\n    setIdOfTodoToEdit(undefined);\n  };\n\n  const onClearCompleted = () => {\n    const updatedTodos = todos.filter((todo) => !todo.completed);\n    setTodos(updatedTodos);\n    props.handleSavingTodos(updatedTodos);\n  };\n\n  return (\n    <div>\n      <header className=\"header\">\n        <h1>todos</h1>\n        <form onSubmit={onFormSubmit}>\n          <input\n            className=\"new-todo\"\n            value={inputFieldText}\n            onChange={onInputFieldChange}\n            autoFocus\n            placeholder=\"What needs to be done?\"\n          />\n        </form>\n        {todos.length > 0 && (\n          <>\n            <section className=\"main\">\n              <input\n                id=\"toggle-all\"\n                className=\"toggle-all\"\n                type=\"checkbox\"\n                onChange={toggleAllTodos}\n                checked={getCountOfActiveTodos() === 0}\n              />\n              <label htmlFor=\"toggle-all\">Mark all as complete</label>\n              <ul className=\"todo-list\">\n                {visibleTodos.map((todo) => (\n                  <TodoItem\n                    key={todo.id}\n                    todo={todo}\n                    onToggle={() => {\n                      toggleSingleTodo(todo);\n                    }}\n                    isEditing={idOfTodoToEdit === todo.id}\n                    onEdit={onTodoEdit}\n                    onEditSubmission={onTodoEditSubmission}\n                    onEditCancel={onTodoEditCancel}\n                  />\n                ))}\n              </ul>\n            </section>\n            <TodoFooter\n              remainingTodosCount={getCountOfActiveTodos()}\n              completedCount={getCountOfCompletedTodos()}\n              onClearCompleted={onClearCompleted}\n            />\n          </>\n        )}\n      </header>\n    </div>\n  );\n};\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'todomvc-common/base.css';\nimport 'todomvc-app-css/index.css';\nimport App from './App';\n\nconst handleSavingTodos = (todos: Array<ITodo>) => {\n  localStorage.setItem('todos', JSON.stringify(todos));\n};\n\nconst retrieveSavedTodos = (): Array<ITodo> => {\n  const todosJSON = localStorage.getItem('todos');\n\n  if (todosJSON) {\n    return JSON.parse(todosJSON);\n  }\n\n  return [];\n};\n\nconst initialTodos = retrieveSavedTodos();\nconsole.log(initialTodos);\n\nReactDOM.render(\n  <Router>\n    <App initialTodos={initialTodos} handleSavingTodos={handleSavingTodos} />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}